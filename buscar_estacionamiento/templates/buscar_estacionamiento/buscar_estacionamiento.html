{% extends 'buscar_estacionamiento/base.html' %}

{% block content %}
    <div class="container mt-5">
        <h1 class="display-4">Buscar Estacionamiento</h1>
        <form method="POST" action="{% url 'buscar_estacionamiento' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="comuna">Comuna:</label>
                <input type="text" class="form-control" id="comuna" name="comuna" required>
            </div>

            <div class="form-group">
                <label for="fecha_inicio">Fecha de Inicio:</label>
                <input type="date" class="form-control" id="fecha_inicio" name="fecha_inicio" required>
            </div>

            <div class="form-group">
                <label for ="fecha_fin">Fecha de Fin:</label>
                <input type="date" class="form-control" id="fecha_fin" name="fecha_fin" required>
            </div>

            <div class="form-group">
                <label for="hora_inicio">Hora de Inicio:</label>
                <input type="time" class="form-control" id="hora_inicio" name="hora_inicio" required>
            </div>

            <div class="form-group">
                <label for="hora_fin">Hora de Fin:</label>
                <input type="time" class="form-control" id="hora_fin" name="hora_fin" required>
            </div>

            <button type="submit" class="btn btn-primary">Buscar Estacionamientos</button>
            
            
            <!-- Futura conexion api localización -->
            <button onclick="obtenerUbicacion()">Obtener Ubicación</button>

            <script>
                // Función para obtener la ubicación
                function obtenerUbicacion() {
                    if (navigator.geolocation) {
                        // Obtener la ubicación actual
                        navigator.geolocation.getCurrentPosition(function(position) {
                            var latitud = position.coords.latitude;
                            var longitud = position.coords.longitude;
                            // Aquí puedes enviar las coordenadas al servidor o realizar acciones con ellas.
                        });
                    } else {
                        alert("La geolocalización no es compatible en este navegador.");
                    }
                }
            </script>              
        </form>
    </div>
{% endblock %}
